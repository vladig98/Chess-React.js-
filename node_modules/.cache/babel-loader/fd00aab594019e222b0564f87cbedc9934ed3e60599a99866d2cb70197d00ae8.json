{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Vladi Gotsin\\\\Desktop\\\\react\\\\Chess-React.js-\\\\src\\\\Square.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { CurrentSquareSelection, PossibleMoves } from \"./globalVariables.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Square({\n  getPossibleMoves,\n  x,\n  y,\n  piece,\n  color,\n  updatePossibleMoves,\n  movePiece\n}) {\n  _s();\n  const [styling, setStyling] = useState(['chessSquare', 'piece', color, piece]);\n  useEffect(() => {\n    console.log(styling);\n  }, [styling]);\n  function handleClick() {\n    console.log(`Square object`, PossibleMoves);\n    if (PossibleMoves.some(m => m.piece.props.x == x && m.piece.props.y == y)) {\n      movePiece(x, y);\n    } else {\n      if (CurrentSquareSelection.x == x && CurrentSquareSelection.y == y) {\n        CurrentSquareSelection.x = -1;\n        CurrentSquareSelection.y = -1;\n        PossibleMoves.splice(0, PossibleMoves.length);\n      } else {\n        CurrentSquareSelection.x = x;\n        CurrentSquareSelection.y = y;\n        getPossibleMoves();\n        console.log(x, y);\n        if (PossibleMoves.some(move => move.moves.some(m => m.props.x === x && m.props.y === y))) {\n          setStyling(prevStyling => [...prevStyling, 'possibleMove']);\n        }\n      }\n    }\n  }\n\n  // let styles = ['chessSquare', 'piece'];\n  // styles.push(color);\n  // styles.push(piece);\n\n  // if (PossibleMoves.some(move => move.moves.some(m => m.props.x === x && m.props.y === y))) {\n  //     styles.push(\"possibleMove\");\n  // }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: handleClick,\n      className: styling.filter(Boolean).join(\" \")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n_s(Square, \"RsSK8IQn5KrHuSroSxxhEbynADA=\");\n_c = Square;\nexport default Square;\nvar _c;\n$RefreshReg$(_c, \"Square\");","map":{"version":3,"names":["React","useState","useEffect","CurrentSquareSelection","PossibleMoves","jsxDEV","_jsxDEV","Fragment","_Fragment","Square","getPossibleMoves","x","y","piece","color","updatePossibleMoves","movePiece","_s","styling","setStyling","console","log","handleClick","some","m","props","splice","length","move","moves","prevStyling","children","onClick","className","filter","Boolean","join","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Vladi Gotsin/Desktop/react/Chess-React.js-/src/Square.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { CurrentSquareSelection, PossibleMoves } from \"./globalVariables.js\"\r\n\r\nfunction Square({\r\n    getPossibleMoves,\r\n    x,\r\n    y,\r\n    piece,\r\n    color,\r\n    updatePossibleMoves,\r\n    movePiece\r\n}) {\r\n\r\n    const [styling, setStyling] = useState(['chessSquare', 'piece', color, piece])\r\n\r\n    useEffect(() => {\r\n        console.log(styling)\r\n    }, [styling])\r\n\r\n    function handleClick() {\r\n        console.log(`Square object`, PossibleMoves)\r\n        if (PossibleMoves.some(m => m.piece.props.x == x && m.piece.props.y == y)) {\r\n            movePiece(x, y)\r\n        } else {\r\n            if (CurrentSquareSelection.x == x && CurrentSquareSelection.y == y) {\r\n                CurrentSquareSelection.x = -1\r\n                CurrentSquareSelection.y = -1\r\n                PossibleMoves.splice(0, PossibleMoves.length);\r\n            } else {\r\n                CurrentSquareSelection.x = x\r\n                CurrentSquareSelection.y = y\r\n                getPossibleMoves()\r\n                console.log(x, y)\r\n                if (PossibleMoves.some(move => move.moves.some(m => m.props.x === x && m.props.y === y))) {\r\n                    setStyling(prevStyling => [...prevStyling, 'possibleMove'])\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // let styles = ['chessSquare', 'piece'];\r\n    // styles.push(color);\r\n    // styles.push(piece);\r\n\r\n    // if (PossibleMoves.some(move => move.moves.some(m => m.props.x === x && m.props.y === y))) {\r\n    //     styles.push(\"possibleMove\");\r\n    // }\r\n\r\n    return (\r\n        <>\r\n            <div onClick={handleClick} className={styling.filter(Boolean).join(\" \")}>\r\n                {/* <span className='coordinates'>{x}-{y}</span> */}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Square"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,sBAAsB,EAAEC,aAAa,QAAQ,sBAAsB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE5E,SAASC,MAAMA,CAAC;EACZC,gBAAgB;EAChBC,CAAC;EACDC,CAAC;EACDC,KAAK;EACLC,KAAK;EACLC,mBAAmB;EACnBC;AACJ,CAAC,EAAE;EAAAC,EAAA;EAEC,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGlB,QAAQ,CAAC,CAAC,aAAa,EAAE,OAAO,EAAEa,KAAK,EAAED,KAAK,CAAC,CAAC;EAE9EX,SAAS,CAAC,MAAM;IACZkB,OAAO,CAACC,GAAG,CAACH,OAAO,CAAC;EACxB,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;EAEb,SAASI,WAAWA,CAAA,EAAG;IACnBF,OAAO,CAACC,GAAG,CAAE,eAAc,EAAEjB,aAAa,CAAC;IAC3C,IAAIA,aAAa,CAACmB,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACX,KAAK,CAACY,KAAK,CAACd,CAAC,IAAIA,CAAC,IAAIa,CAAC,CAACX,KAAK,CAACY,KAAK,CAACb,CAAC,IAAIA,CAAC,CAAC,EAAE;MACvEI,SAAS,CAACL,CAAC,EAAEC,CAAC,CAAC;IACnB,CAAC,MAAM;MACH,IAAIT,sBAAsB,CAACQ,CAAC,IAAIA,CAAC,IAAIR,sBAAsB,CAACS,CAAC,IAAIA,CAAC,EAAE;QAChET,sBAAsB,CAACQ,CAAC,GAAG,CAAC,CAAC;QAC7BR,sBAAsB,CAACS,CAAC,GAAG,CAAC,CAAC;QAC7BR,aAAa,CAACsB,MAAM,CAAC,CAAC,EAAEtB,aAAa,CAACuB,MAAM,CAAC;MACjD,CAAC,MAAM;QACHxB,sBAAsB,CAACQ,CAAC,GAAGA,CAAC;QAC5BR,sBAAsB,CAACS,CAAC,GAAGA,CAAC;QAC5BF,gBAAgB,CAAC,CAAC;QAClBU,OAAO,CAACC,GAAG,CAACV,CAAC,EAAEC,CAAC,CAAC;QACjB,IAAIR,aAAa,CAACmB,IAAI,CAACK,IAAI,IAAIA,IAAI,CAACC,KAAK,CAACN,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,KAAK,CAACd,CAAC,KAAKA,CAAC,IAAIa,CAAC,CAACC,KAAK,CAACb,CAAC,KAAKA,CAAC,CAAC,CAAC,EAAE;UACtFO,UAAU,CAACW,WAAW,IAAI,CAAC,GAAGA,WAAW,EAAE,cAAc,CAAC,CAAC;QAC/D;MACJ;IACJ;EACJ;;EAEA;EACA;EACA;;EAEA;EACA;EACA;;EAEA,oBACIxB,OAAA,CAAAE,SAAA;IAAAuB,QAAA,eACIzB,OAAA;MAAK0B,OAAO,EAAEV,WAAY;MAACW,SAAS,EAAEf,OAAO,CAACgB,MAAM,CAACC,OAAO,CAAC,CAACC,IAAI,CAAC,GAAG;IAAE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEnE;EAAC,gBACR,CAAC;AAEX;AAACvB,EAAA,CApDQR,MAAM;AAAAgC,EAAA,GAANhC,MAAM;AAsDf,eAAeA,MAAM;AAAA,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}